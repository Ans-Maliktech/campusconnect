/* ============================================
   ðŸ§  SYNTROPY - PROFESSIONAL THEME SYSTEM
   Status: Optimized for Visibility & Contrast
   ============================================ */

/* === LIGHT THEME (Default) === */
:root {
  /* Backgrounds */
  --bg-deep: #f8fafc;       /* Light grey-blue background */
  --bg-surface: #ffffff;    /* Pure white for cards/nav */
  --bg-elevated: #f1f5f9;   /* Slightly darker for inputs/hovers */

  /* Accents */
  --primary: #4f46e5;       /* Indigo */
  --primary-glow: rgba(79, 70, 229, 0.2);
  --secondary: #9333ea;     /* Purple */

  /* Text */
  --text-main: #1e293b;     /* Dark Slate text */
  --text-muted: #64748b;    /* Medium Slate for secondary text */

  /* Functional */
  --border-subtle: #e2e8f0; /* Light border */
  --radius-md: 12px;
  --radius-lg: 16px;

  /* Transitions */
  --ease-fluid: cubic-bezier(0.4, 0, 0.2, 1);
}

/* === DARK THEME (Activated by data-theme="dark") === */
[data-theme="dark"] {
  /* Backgrounds */
  --bg-deep: #0b0f19;       /* Deep Midnight */
  --bg-surface: #151b2b;    /* Dark surface */
  --bg-elevated: #1e2538;   /* Elevated dark surface (Inputs) */

  /* Accents */
  --primary: #6366f1;       /* Electric Indigo */
  --primary-glow: rgba(99, 102, 241, 0.4);
  --secondary: #a855f7;     /* Purple Haze */

  /* Text */
  --text-main: #f1f5f9;     /* Soft White */
  --text-muted: #cbd5e1;    /* Lighter Grey (Readable on dark) */

  /* Functional */
  --border-subtle: rgba(255, 255, 255, 0.1);
}

/* === GLOBAL RESET & TYPOGRAPHY === */
body {
  background-color: var(--bg-deep);
  color: var(--text-main);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  line-height: 1.6;
  transition: background-color 0.3s var(--ease-fluid), color 0.3s var(--ease-fluid);
}

/* Force headings and labels to inherit theme color */
h1, h2, h3, h4, h5, h6, label, .form-label {
  color: var(--text-main) !important;
}

/* Scrollbar Styling */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg-deep); }
::-webkit-scrollbar-thumb { background: var(--bg-elevated); border-radius: 4px; }

/* === UTILITIES === */
.App { min-height: 100vh; }

.text-gradient {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: bold;
}

/* === NAVBAR & DROPDOWNS === */
.navbar {
  background-color: var(--bg-surface) !important;
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border-subtle);
  padding: 0.8rem 0;
  transition: all 0.3s var(--ease-fluid);
}

.navbar-brand { color: var(--text-main) !important; font-weight: 800; font-size: 1.5rem; }
.nav-link { color: var(--text-muted) !important; font-weight: 500; transition: all 0.3s; margin: 0 0.5rem; }
.nav-link:hover, .nav-link.active { color: var(--primary) !important; }

/* ðŸ›‘ FIX: Remove white background from Profile Dropdown */
.dropdown-toggle::after { vertical-align: middle; }
.nav-link.dropdown-toggle { display: flex; align-items: center; }

/* === CARDS === */
.card {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
}
.card-body { padding: 1.5rem; }

/* === BUTTONS === */
.btn {
  padding: 0.6rem 1.2rem;
  border-radius: var(--radius-md);
  font-weight: 600;
  border: none;
}
.btn-primary {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  color: white;
  box-shadow: 0 4px 12px var(--primary-glow);
}
.btn-outline-primary {
  background: transparent;
  border: 1px solid var(--primary);
  color: var(--primary);
}
.btn-outline-primary:hover { background: var(--primary); color: white; }

/* =================================================================
   ðŸ›‘ DARK MODE OVERRIDES (The Critical Fixes)
   ================================================================= */

/* 1. VISIBILITY: Make all form labels and text visible */
[data-theme="dark"] label,
[data-theme="dark"] .form-label,
[data-theme="dark"] .input-group-text,
[data-theme="dark"] h1, 
[data-theme="dark"] h2, 
[data-theme="dark"] h3, 
[data-theme="dark"] h4, 
[data-theme="dark"] h5, 
[data-theme="dark"] h6 {
  color: var(--text-main) !important;
}

/* 2. INPUTS: Dark background for inputs */
[data-theme="dark"] .form-control, 
[data-theme="dark"] .form-select {
  background-color: var(--bg-elevated) !important;
  border-color: var(--border-subtle) !important;
  color: var(--text-main) !important;
}

[data-theme="dark"] .form-control::placeholder {
  color: var(--text-muted) !important;
  opacity: 0.6;
}

/* 3. FIX WHITE BOXES: Override 'bg-white' and 'bg-light' in dark mode */
[data-theme="dark"] .bg-white, 
[data-theme="dark"] .bg-light {
  background-color: var(--bg-surface) !important;
  color: var(--text-main) !important;
  border-color: var(--border-subtle) !important;
}

/* 4. FIX NAVBAR PROFILE: Remove white square around circle */
[data-theme="dark"] .dropdown-menu {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  box-shadow: 0 10px 25px rgba(0,0,0,0.5);
}
[data-theme="dark"] .dropdown-item {
  color: var(--text-main);
}
[data-theme="dark"] .dropdown-item:hover {
  background-color: var(--bg-elevated);
}

/* 5. FIX BROWSER AUTOFILL (Prevents white flash) */
[data-theme="dark"] input:-webkit-autofill,
[data-theme="dark"] input:-webkit-autofill:hover, 
[data-theme="dark"] input:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0px 1000px var(--bg-elevated) inset !important;
  -webkit-text-fill-color: var(--text-main) !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* 6. UTILITY: Fix Text Muted specifically for dark mode */
[data-theme="dark"] .text-muted {
  color: #94a3b8 !important; /* Lighter grey for readability */
}
[data-theme="dark"] .text-dark,
[data-theme="dark"] .text-body {
  color: var(--text-main) !important;
}